{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",

  "title": {
    "text": "Main Causes of Bushfires in Australia",
    "subtitle": "Breakdown of major natural and human ignition sources contributing to bushfires",
    "font": "Open Sans",
    "subtitleFont": "Open Sans",
    "fontSize": 18,
    "subtitleFontSize": 14,
    "fontWeight": "bold",
    "anchor": "middle",
    "color": "#0a2540",
    "offset": 15
  },

  "width": "container",
  "height": 310,
  "autosize": { "type": "fit", "contains": "padding" },

  "data": { "url": "bushfire/data/bushfire_causes_australia.csv" },

  "params": [
    {
      "name": "causeFilter",
      "value": "All",
      "bind": {
        "input": "select",
        "options": ["All", "Natural", "Human-related"],
        "labels": ["All Causes", "Natural Causes", "Human-related Causes"],
        "name": "Filter: "
      }
    }
  ],

  "transform": [
    { "filter": "causeFilter == 'All' || datum.Category == causeFilter" }
  ],

  "mark": {
    "type": "arc",
    "innerRadius": 60,
    "outerRadius": 120,
    "stroke": "#fff",
    "strokeWidth": 1
  },

  "encoding": {
    "theta": { "field": "Percentage", "type": "quantitative" },
    "color": {
      "field": "Cause",
      "type": "nominal",
      "title": "Causes",
      "scale": {
        "domain": [
          "Lightning",
          "Drought",
          "Deliberate",
          "Agricultural Escapes",
          "Campfires",
          "Cigarettes or Matches",
          "Machinery or Equipment Use",
          "Unknown or Other"
        ],
        "range": [
          "#9e9e9e",
          "#f57c00",
          "#0d47a1",
          "#2e7d32",
          "#17415E",
          "#2A73A7",
          "#A1CAE8",
          "#A1E8E5"
        ]
      },
      "legend": {
        "orient": "right",
        "direction": "vertical",
        "titleFont": "Open Sans",
        "labelFont": "Open Sans",
        "titleFontSize": 13,
        "labelFontSize": 12,
        "symbolSize": 120,
        "symbolType": "circle",
        "titleAnchor": "start",
        "offset": 10
      }
    },
    "tooltip": [
      { "field": "Cause", "title": "Cause" },
      { "field": "Category", "title": "Category" },
      { "field": "Percentage", "title": "Share (%)", "format": ".1f" }
    ]
  },

  "config": {
    "font": "Open Sans",
    "title": { "font": "Open Sans" },
    "axis": { "labelFont": "Open Sans", "titleFont": "Open Sans" },
    "legend": { "labelFont": "Open Sans", "titleFont": "Open Sans" },
    "header": { "labelFont": "Open Sans", "titleFont": "Open Sans" },
    "padding": { "top": 30, "bottom": 20, "left": 10, "right": 10 },
    "view": { "stroke": "transparent" },
    "background": "white"
  }
}
